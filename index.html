<html>
<head>
	<title></title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="explanation">
		<p>This is a chronologically ordered list. The latest items are presented first.
		Older items are loaded with infinite reverse scroll.</p>
	</div>
	<div class="messages"></div>
	<script src="message-list-view.js"></script>
	<script>
	var messages = [];
	var words = ['glerfsum', 'lorem', 'dolor', 'amit', 'clamor', 'glarf'];
	var randomWord = function() {
		return words[Math.floor( Math.random() * words.length )];
	}
	var randomSentence = function() {
		return randomWord() + ' ' + randomWord() + ' ' + randomWord() + ' ' + randomWord();
	};
	for ( i=0; i<=500; i++ ) {
		messages.push( randomSentence() );
	}

	// Create an instance of the view and load it with messages.
	var x = new MessageListView({
		el: document.querySelector('.messages'),
		messages: messages,
		messagesPerPage: 20,
	});

	// Preferably message loading could happen automatically.
	for ( var i=0; i<=2; i++ ) {
		x.loadMore();
	}

	// Scroll to the bottom on first load.
	window.scrollTo( 0, x.el.offsetHeight - window.innerHeight );
	</script>
</body>
</html>